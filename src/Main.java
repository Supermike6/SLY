import java.util.*;
import java.util.*;

public class Main {
    public static void main(String[] args) {
        // Create a Scotland Yard game with Mr. X starting at position 1
        ScotlandYard game = new ScotlandYard(131);

       configureGameBoard(game);

        // List of moves (each move represents a transport type used)
        List<String> moves = Arrays.asList("ttb".split(""));
        

        // Calculate possible positions after these moves
        Set<Integer> possiblePositions = game.getPossiblePositionsAfterMoves(moves);
        System.out.println("Possible positions after moves: " + possiblePositions);
    }

    static void configureGameBoard(ScotlandYard game)
    {

        //underground
        game.addConnection(1, 46, "u");
        game.addConnection(74, 46, "u");
        game.addConnection(13, 46, "u");
        game.addConnection(79, 46, "u");
        game.addConnection(79, 93, "u");
        game.addConnection(79, 67, "u");
        game.addConnection(13, 67, "u");
        game.addConnection(89, 67, "u");
        game.addConnection(13, 89, "u");
        game.addConnection(111, 79, "u");
        game.addConnection(111, 67, "u");
        game.addConnection(111, 163, "u");
        game.addConnection(111, 153, "u");
        game.addConnection(153, 163, "u");
        game.addConnection(140, 153, "u");
        game.addConnection(140, 89, "u");
        game.addConnection(140, 159, "u");
        game.addConnection(185, 153, "u");
        game.addConnection(185, 159, "u");
        game.addConnection(89, 159, "u");
        
        //bus
        game.addConnection(1, 58, "b");
        game.addConnection(46, 58, "b");
        game.addConnection(46, 78, "b");
        game.addConnection(77, 58, "b");
        game.addConnection(74, 58, "b");
        game.addConnection(74, 94, "b");
        game.addConnection(93, 94, "b");
        game.addConnection(77, 94, "b");
        game.addConnection(77, 78, "b");
        game.addConnection(79, 78, "b");
        game.addConnection(79, 63, "b");
        game.addConnection(77, 124, "b");
        game.addConnection(46, 34, "b");
        game.addConnection(22, 34, "b");
        game.addConnection(63, 34, "b");
        game.addConnection(22, 3, "b");
        game.addConnection(22, 65, "b");
        game.addConnection(23, 3, "b");
        game.addConnection(23, 22, "b");
        game.addConnection(23, 13, "b");
        game.addConnection(14, 13, "b");
        game.addConnection(14, 15, "b");
        game.addConnection(41, 15, "b");
        game.addConnection(41, 29, "b");
        game.addConnection(41, 52, "b");
        game.addConnection(13, 52, "b");
        game.addConnection(67, 102, "b");
        game.addConnection(67, 52, "b");
        game.addConnection(67, 23, "b");
        game.addConnection(67, 65, "b");
        game.addConnection(82, 65, "b");
        game.addConnection(63, 65, "b");
        game.addConnection(67, 82, "b");
        game.addConnection(100, 82, "b");
        game.addConnection(100, 63, "b");
        game.addConnection(29, 15, "b");
        game.addConnection(29, 42, "b");
        game.addConnection(7, 42, "b");
        game.addConnection(100, 111, "b");
        game.addConnection(124, 111, "b");
        game.addConnection(124, 123, "b");
        game.addConnection(122, 123, "b");
        game.addConnection(122, 144, "b");
        game.addConnection(123, 144, "b");
        game.addConnection(163, 144, "b");
        game.addConnection(163, 176, "b");
        game.addConnection(190, 176, "b");
        game.addConnection(190, 180, "b");
        game.addConnection(190, 191, "b");
        game.addConnection(163, 191, "b");
        game.addConnection(165, 191, "b");
        game.addConnection(165, 123, "b");
        game.addConnection(165, 180, "b");
        game.addConnection(153, 180, "b");
        game.addConnection(153, 124, "b");
        game.addConnection(153, 184, "b");
        game.addConnection(153, 184, "b");
        game.addConnection(154, 184, "b");
        game.addConnection(180, 184, "b");
        game.addConnection(185, 184, "b");
        game.addConnection(140, 156, "b");
        game.addConnection(156, 184, "b");
        game.addConnection(156, 154, "b");
        game.addConnection(156, 157, "b");
        game.addConnection(140, 154, "b");
        game.addConnection(140, 133, "b");
        game.addConnection(140, 82, "b");
        game.addConnection(199, 185, "b");
        game.addConnection(187, 185, "b");
        game.addConnection(187, 199, "b");
        game.addConnection(159, 199, "b");
        game.addConnection(159, 161, "b");
        game.addConnection(199, 161, "b");
        game.addConnection(187, 159, "b");
        game.addConnection(135, 159, "b");
        game.addConnection(142, 159, "b");
        game.addConnection(133, 127, "b");
        game.addConnection(116, 127, "b");
        game.addConnection(142, 116, "b");
        game.addConnection(118, 116, "b");
        game.addConnection(161, 135, "b");
        game.addConnection(161, 107, "b");
        game.addConnection(105, 107, "b");
        game.addConnection(105, 118, "b");
        game.addConnection(86, 87, "b");
        game.addConnection(86, 102, "b");
        game.addConnection(86, 52, "b");
        game.addConnection(87, 41, "b");
        game.addConnection(67, 102, "b");
        game.addConnection(29, 55, "b");
        game.addConnection(89, 55, "b");
        game.addConnection(89, 105, "b");
        game.addConnection(72, 105, "b");
        game.addConnection(72, 42, "b");
        game.addConnection(72, 107, "b");
        
        //taxi
        game.addConnection(1, 8, "t");
        game.addConnection(8, 19, "t");
        game.addConnection(8, 18, "t");
        game.addConnection(31, 18, "t");
        game.addConnection(43, 18, "t");
        game.addConnection(43, 57, "t");
        game.addConnection(43, 31, "t");
        game.addConnection(44, 31, "t");
        game.addConnection(1, 9, "t");
        game.addConnection(19, 9, "t");
        game.addConnection(19, 32, "t");
        game.addConnection(33, 32, "t");
        game.addConnection(33, 21, "t");
        game.addConnection(44, 32, "t");
        game.addConnection(44, 58, "t");
        game.addConnection(57, 58, "t");
        game.addConnection(57, 73, "t");
        game.addConnection(92, 73, "t");
        game.addConnection(74, 73, "t");
        game.addConnection(92, 73, "t");
        game.addConnection(92, 93, "t");
        game.addConnection(94, 93, "t");
        game.addConnection(94, 75, "t");
        game.addConnection(59, 75, "t");
        game.addConnection(59, 58, "t");
        game.addConnection(59, 45, "t");
        game.addConnection(59, 76, "t");
        game.addConnection(77, 76, "t");
        game.addConnection(77, 95, "t");
        game.addConnection(77, 78, "t");
        game.addConnection(77, 96, "t");
        game.addConnection(97, 96, "t");
        game.addConnection(97, 78, "t");
        game.addConnection(97, 109, "t");
        game.addConnection(97, 98, "t");
        game.addConnection(79, 98, "t");
        game.addConnection(96, 109, "t");
        game.addConnection(79, 78, "t");
        game.addConnection(79, 62, "t");
        game.addConnection(122, 95, "t");
        game.addConnection(60, 76, "t");
        game.addConnection(62, 78, "t");
        game.addConnection(47, 34, "t");
        game.addConnection(61, 76, "t");
        game.addConnection(63, 79, "t");
        game.addConnection(61, 60, "t");
        game.addConnection(61, 46, "t");
        game.addConnection(61, 62, "t");
        game.addConnection(61, 78, "t");
        game.addConnection(47, 62, "t");
        game.addConnection(47, 46, "t");
        game.addConnection(46, 45, "t");
        game.addConnection(46, 33, "t");
        game.addConnection(45, 58, "t");
        game.addConnection(45, 60, "t");
        game.addConnection(94, 95, "t");
        game.addConnection(58, 75, "t");
        game.addConnection(74, 75, "t");
        game.addConnection(74, 58, "t");
        game.addConnection(45, 32, "t");
        game.addConnection(20, 9, "t");
        game.addConnection(20, 2, "t");
        game.addConnection(10, 2, "t");
        game.addConnection(10, 21, "t");
        game.addConnection(20, 33, "t");
        game.addConnection(98, 99, "t");
        game.addConnection(98, 110, "t");
        game.addConnection(99, 110, "t");
        game.addConnection(111, 110, "t");
        game.addConnection(111, 124, "t");
        game.addConnection(123, 124, "t");
        game.addConnection(123, 122, "t");
        game.addConnection(121, 122, "t");
        game.addConnection(121, 120, "t");
        game.addConnection(144, 120, "t");
        game.addConnection(144, 145, "t");
        game.addConnection(121, 145, "t");
        game.addConnection(146, 145, "t");
        game.addConnection(146, 122, "t");
        game.addConnection(146, 147, "t");
        game.addConnection(146, 163, "t");
        game.addConnection(144, 177, "t");
        game.addConnection(163, 177, "t");
        game.addConnection(176, 177, "t");
        game.addConnection(164, 147, "t");
        game.addConnection(190, 189, "t");
        game.addConnection(178, 189, "t");
        game.addConnection(190, 192, "t");
        game.addConnection(191, 192, "t");
        game.addConnection(191, 179, "t");
        game.addConnection(191, 178, "t");
        game.addConnection(164, 178, "t");
        game.addConnection(164, 179, "t");
        game.addConnection(164, 148, "t");
        game.addConnection(123, 148, "t");
        game.addConnection(123, 149, "t");
        game.addConnection(148, 149, "t");
        game.addConnection(150, 149, "t");
        game.addConnection(165, 149, "t");
        game.addConnection(165, 179, "t");
        game.addConnection(165, 180, "t");
        game.addConnection(193, 180, "t");
        game.addConnection(193, 194, "t");
        game.addConnection(195, 194, "t");
        game.addConnection(193, 181, "t");
        game.addConnection(180, 181, "t");
        game.addConnection(165, 151, "t");
        game.addConnection(194, 192, "t");
        game.addConnection(190, 191, "t");
        game.addConnection(137, 147, "t");
        game.addConnection(137, 123, "t");
        game.addConnection(109, 110, "t");
        game.addConnection(109, 124, "t");
        game.addConnection(138, 124, "t");
        game.addConnection(130, 124, "t");
        game.addConnection(138, 150, "t");
        game.addConnection(151, 150, "t");
        game.addConnection(151, 152, "t");
        game.addConnection(151, 166, "t");
        game.addConnection(181, 166, "t");
        game.addConnection(181, 182, "t");
        game.addConnection(195, 182, "t");
        game.addConnection(195, 197, "t");
        game.addConnection(184, 197, "t");
        game.addConnection(196, 197, "t");
        game.addConnection(196, 184, "t");
        game.addConnection(196, 183, "t");
        game.addConnection(182, 183, "t");
        game.addConnection(166, 183, "t");
        game.addConnection(166, 153, "t");
        game.addConnection(152, 153, "t");
        game.addConnection(167, 183, "t");
        game.addConnection(138, 152, "t");
        game.addConnection(10, 11, "t");
        game.addConnection(10, 34, "t");
        game.addConnection(22, 34, "t");
        game.addConnection(48, 34, "t");
        game.addConnection(48, 35, "t");
        game.addConnection(48, 63, "t");
        game.addConnection(64, 63, "t");
        game.addConnection(80, 63, "t");
        game.addConnection(80, 99, "t");
        game.addConnection(112, 99, "t");
        game.addConnection(112, 111, "t");
        game.addConnection(112, 100, "t");
        game.addConnection(112, 125, "t");
        game.addConnection(131, 125, "t");
        game.addConnection(113, 125, "t");
        game.addConnection(113, 100, "t");
        game.addConnection(80, 100, "t");
        game.addConnection(81, 100, "t");
        game.addConnection(101, 100, "t");
        game.addConnection(113, 114, "t");
        game.addConnection(101, 114, "t");
        game.addConnection(81, 82, "t");
        game.addConnection(81, 64, "t");
        game.addConnection(65, 64, "t");
        game.addConnection(65, 82, "t");
        game.addConnection(65, 66, "t");
        game.addConnection(65, 35, "t");
        game.addConnection(36, 35, "t");
        game.addConnection(22, 35, "t");
        game.addConnection(22, 11, "t");
        game.addConnection(3, 11, "t");
        game.addConnection(3, 12, "t");
        game.addConnection(23, 12, "t");
        game.addConnection(23, 13, "t");
        game.addConnection(23, 37, "t");
        game.addConnection(36, 37, "t");
        game.addConnection(36, 49, "t");
        game.addConnection(50, 49, "t");
        game.addConnection(50, 37, "t");
        game.addConnection(24, 37, "t");
        game.addConnection(24, 13, "t");
        game.addConnection(24, 38, "t");
        game.addConnection(25, 38, "t");
        game.addConnection(51, 38, "t");
        game.addConnection(51, 67, "t");
        game.addConnection(84, 67, "t");
        game.addConnection(84, 85, "t");
        game.addConnection(68, 85, "t");
        game.addConnection(68, 69, "t");
        game.addConnection(103, 85, "t");
        game.addConnection(102, 83, "t");
        game.addConnection(102, 103, "t");
        game.addConnection(102, 115, "t");
        game.addConnection(114, 115, "t");
        game.addConnection(114, 131, "t");
        game.addConnection(130, 131, "t");
        game.addConnection(130, 139, "t");
        game.addConnection(153, 139, "t");
        game.addConnection(153, 167, "t");
        game.addConnection(153, 154, "t");
        game.addConnection(139, 154, "t");
        game.addConnection(139, 140, "t");
        game.addConnection(154, 140, "t");
        game.addConnection(154, 155, "t");
        game.addConnection(167, 155, "t");
        game.addConnection(167, 168, "t");
        game.addConnection(155, 168, "t");
        game.addConnection(155, 156, "t");
        game.addConnection(184, 168, "t");
        game.addConnection(184, 185, "t");
        game.addConnection(184, 169, "t");
        game.addConnection(156, 169, "t");
        game.addConnection(156, 140, "t");
        game.addConnection(133, 140, "t");
        game.addConnection(126, 140, "t");
        game.addConnection(126, 115, "t");
        game.addConnection(126, 127, "t");
        game.addConnection(115, 127, "t");
        game.addConnection(156, 157, "t");
        game.addConnection(132, 140, "t");
        game.addConnection(132, 114, "t");
        game.addConnection(126, 114, "t");
        game.addConnection(51, 39, "t");
        game.addConnection(51, 52, "t");
        game.addConnection(51, 68, "t");
        game.addConnection(67, 68, "t");
        game.addConnection(14, 13, "t");
        game.addConnection(50, 38, "t");
        game.addConnection(66, 49, "t");
        game.addConnection(66, 67, "t");
        game.addConnection(84, 67, "t");
        game.addConnection(4, 13, "t");
        game.addConnection(3, 4, "t");
        game.addConnection(22, 23, "t");
        game.addConnection(66, 82, "t");
        game.addConnection(101, 82, "t");
        game.addConnection(101, 83, "t");
        game.addConnection(14, 15, "t");
        game.addConnection(14, 25, "t");
        game.addConnection(39, 25, "t");
        game.addConnection(39, 52, "t");
        game.addConnection(39, 26, "t");
        game.addConnection(39, 15, "t");
        game.addConnection(5, 15, "t");
        game.addConnection(28, 15, "t");
        game.addConnection(28, 27, "t");
        game.addConnection(40, 27, "t");
        game.addConnection(40, 52, "t");
        game.addConnection(40, 41, "t");
        game.addConnection(40, 53, "t");
        game.addConnection(69, 53, "t");
        game.addConnection(69, 86, "t");
        game.addConnection(103, 86, "t");
        game.addConnection(54, 41, "t");
        game.addConnection(69, 52, "t");
        game.addConnection(28, 16, "t");
        game.addConnection(28, 41, "t");
        game.addConnection(5, 16, "t");
        game.addConnection(29, 16, "t");
        game.addConnection(29, 6, "t");
        game.addConnection(7, 6, "t");
        game.addConnection(7, 17, "t");
        game.addConnection(30, 17, "t");
        game.addConnection(29, 17, "t");
        game.addConnection(29, 42, "t");
        game.addConnection(29, 41, "t");
        game.addConnection(72, 42, "t");
        game.addConnection(56, 42, "t");
        game.addConnection(30, 42, "t");
        game.addConnection(16, 15, "t");
        game.addConnection(27, 26, "t");
        game.addConnection(53, 54, "t");
        game.addConnection(70, 54, "t");
        game.addConnection(70, 87, "t");
        game.addConnection(70, 71, "t");
        game.addConnection(55, 71, "t");
        game.addConnection(89, 71, "t");
        game.addConnection(89, 88, "t");
        game.addConnection(86, 104, "t");
        game.addConnection(87, 88, "t");
        game.addConnection(117, 88, "t");
        game.addConnection(89, 88, "t");
        game.addConnection(89, 105, "t");
        game.addConnection(90, 105, "t");
        game.addConnection(90, 72, "t");
        game.addConnection(90, 91, "t");
        game.addConnection(105, 91, "t");
        game.addConnection(107, 91, "t");
        game.addConnection(107, 119, "t");
        game.addConnection(107, 106, "t");
        game.addConnection(105, 106, "t");
        game.addConnection(105, 118, "t");
        game.addConnection(119, 118, "t");
        game.addConnection(119, 136, "t");
        game.addConnection(162, 136, "t");
        game.addConnection(162, 175, "t");
        game.addConnection(200, 175, "t");
        game.addConnection(200, 199, "t");
        game.addConnection(188, 199, "t");
        game.addConnection(188, 187, "t");
        game.addConnection(198, 187, "t");
        game.addConnection(198, 186, "t");
        game.addConnection(185, 186, "t");
        game.addConnection(185, 170, "t");
        game.addConnection(157, 170, "t");
        game.addConnection(171, 170, "t");
        game.addConnection(186, 171, "t");
        game.addConnection(198, 171, "t");
        game.addConnection(158, 171, "t");
        game.addConnection(158, 157, "t");
        game.addConnection(172, 187, "t");
        game.addConnection(172, 159, "t");
        game.addConnection(142, 158, "t");
        game.addConnection(141, 158, "t");
        game.addConnection(141, 133, "t");
        game.addConnection(141, 142, "t");
        game.addConnection(141, 134, "t");
        game.addConnection(142, 134, "t");
        game.addConnection(127, 134, "t");
        game.addConnection(128, 134, "t");
        game.addConnection(128, 116, "t");
        game.addConnection(128, 142, "t");
        game.addConnection(159, 142, "t");
        game.addConnection(143, 142, "t");
        game.addConnection(143, 129, "t");
        game.addConnection(128, 129, "t");
        game.addConnection(135, 129, "t");
        game.addConnection(117, 129, "t");
        game.addConnection(117, 116, "t");
        game.addConnection(117, 118, "t");
        game.addConnection(129, 142, "t");
        game.addConnection(127, 116, "t");
        game.addConnection(127, 133, "t");
        game.addConnection(91, 72, "t");
        game.addConnection(91, 56, "t");
        game.addConnection(71, 72, "t");
        game.addConnection(116, 104, "t");
        game.addConnection(55, 54, "t");
        game.addConnection(159, 143, "t");
        game.addConnection(159, 160, "t");
        game.addConnection(159, 188, "t");
        game.addConnection(173, 188, "t");
        game.addConnection(173, 200, "t");
        game.addConnection(173, 174, "t");
        game.addConnection(173, 160, "t");
        game.addConnection(161, 160, "t");
        game.addConnection(143, 160, "t");
        game.addConnection(143, 135, "t");
        game.addConnection(136, 135, "t");
        game.addConnection(161, 135, "t");
        game.addConnection(175, 174, "t");
        game.addConnection(161, 174, "t");
        
        
        game.addFConnection(194, 157, "f");
        game.addFConnection(115, 157, "f");
        game.addFConnection(115, 118, "f");
    }
}
